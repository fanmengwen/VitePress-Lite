# VitePress-Lite

ä¸€ä¸ªåŸºäº Vue 3 + Vite çš„è½»é‡çº§æ–‡æ¡£ç«™ç‚¹ç”Ÿæˆå™¨ï¼Œç±»ä¼¼äº VitePress ä½†æ›´åŠ ç®€åŒ–å’Œå¯å®šåˆ¶ã€‚

## ğŸ“– é¡¹ç›®æ¦‚è¿°

VitePress-Lite æ˜¯ä¸€ä¸ªç°ä»£åŒ–çš„é™æ€æ–‡æ¡£ç«™ç‚¹ç”Ÿæˆå™¨ï¼Œå®ƒå°† Markdown æ–‡ä»¶è‡ªåŠ¨è½¬æ¢ä¸º Vue å•æ–‡ä»¶ç»„ä»¶ï¼ˆSFCï¼‰ï¼Œæ”¯æŒçƒ­æ¨¡å—æ›´æ–°ï¼ˆHMRï¼‰ï¼Œå¹¶è‡ªåŠ¨ç”Ÿæˆè·¯ç”±ç³»ç»Ÿã€‚è¯¥é¡¹ç›®é‡‡ç”¨ monorepo æ¶æ„ï¼Œä¸“æ³¨äºæä¾›å¿«é€Ÿçš„å¼€å‘ä½“éªŒå’Œé«˜è´¨é‡çš„æ–‡æ¡£é˜…è¯»ä½“éªŒã€‚

## ğŸ—ï¸ é¡¹ç›®æ¶æ„

### æŠ€æœ¯æ ˆ

- **å‰ç«¯æ¡†æ¶**: Vue 3 + TypeScript
- **æ„å»ºå·¥å…·**: Vite + Rollup
- **åŒ…ç®¡ç†**: pnpm (monorepo)
- **è·¯ç”±**: Vue Router 4
- **Markdown å¤„ç†**: markdown-it + gray-matter
- **æ ·å¼**: CSS Modules + Scoped CSS

### ç›®å½•ç»“æ„

```
VitePress-Lite/
â”œâ”€â”€ packages/
â”‚   â””â”€â”€ docs-site/                 # æ ¸å¿ƒæ–‡æ¡£ç«™ç‚¹åŒ…
â”‚       â”œâ”€â”€ docs/                  # Markdown æ–‡æ¡£ç›®å½•
â”‚       â”‚   â”œâ”€â”€ unit/             # å•å…ƒæ–‡æ¡£
â”‚       â”‚   â””â”€â”€ total.md          # ä¸»è¦æ–‡æ¡£
â”‚       â”œâ”€â”€ src/                   # æºä»£ç 
â”‚       â”‚   â”œâ”€â”€ components/       # Vue ç»„ä»¶
â”‚       â”‚   â”œâ”€â”€ pages/            # é¡µé¢ç»„ä»¶
â”‚       â”‚   â”œâ”€â”€ router/           # è·¯ç”±é…ç½®
â”‚       â”‚   â””â”€â”€ main.ts           # åº”ç”¨å…¥å£
â”‚       â”œâ”€â”€ plugins/              # è‡ªå®šä¹‰ Vite æ’ä»¶
â”‚       â”‚   â”œâ”€â”€ markdown-transformer-plugin.js  # Markdown è½¬æ¢æ’ä»¶
â”‚       â”‚   â””â”€â”€ virtual-pages-plugin.js         # è™šæ‹Ÿé¡µé¢ç”Ÿæˆæ’ä»¶
â”‚       â””â”€â”€ vite.config.ts        # Vite é…ç½®
â”œâ”€â”€ package.json                   # æ ¹åŒ…é…ç½®
â””â”€â”€ pnpm-workspace.yaml           # pnpm å·¥ä½œåŒºé…ç½®
```

## ğŸ”§ æ ¸å¿ƒåŠŸèƒ½

### 1. Markdown åˆ° Vue SFC è½¬æ¢

- **åŠŸèƒ½**: è‡ªåŠ¨å°† `.md` æ–‡ä»¶è½¬æ¢ä¸º Vue å•æ–‡ä»¶ç»„ä»¶
- **å®ç°**: `markdown-transformer-plugin.js`
- **ç‰¹æ€§**:
  - æ”¯æŒ frontmatter å…ƒæ•°æ®è§£æ
  - è‡ªåŠ¨æ³¨å…¥å…¨å±€å¯¼èˆªç»„ä»¶
  - æ”¯æŒ markdown-it æ’ä»¶æ‰©å±•
  - çƒ­æ¨¡å—æ›´æ–°æ”¯æŒ

### 2. è™šæ‹Ÿè·¯ç”±ç”Ÿæˆ

- **åŠŸèƒ½**: è‡ªåŠ¨æ‰«æ `docs/` ç›®å½•ï¼Œç”Ÿæˆè·¯ç”±é…ç½®
- **å®ç°**: `virtual-pages-plugin.js`
- **ç‰¹æ€§**:
  - åŸºäºæ–‡ä»¶è·¯å¾„è‡ªåŠ¨ç”Ÿæˆè·¯ç”±
  - æ”¯æŒåµŒå¥—è·¯ç”±ç»“æ„
  - åŠ¨æ€å¯¼å…¥ç»„ä»¶

### 3. çƒ­æ¨¡å—æ›´æ–° (HMR)

- **åŠŸèƒ½**: Markdown æ–‡ä»¶ä¿®æ”¹æ—¶å®æ—¶æ›´æ–°é¡µé¢
- **å®ç°**: WebSocket + è‡ªå®šä¹‰äº‹ä»¶
- **ä¼˜åŠ¿**: æ— éœ€åˆ·æ–°é¡µé¢å³å¯çœ‹åˆ°æ–‡æ¡£å˜æ›´

### 4. ç»„ä»¶ç³»ç»Ÿ

- **GlobalNav**: å…¨å±€å¯¼èˆªç»„ä»¶ï¼Œè‡ªåŠ¨ç”Ÿæˆæ‰€æœ‰é¡µé¢é“¾æ¥
- **MarkdownList**: Markdown æ–‡æ¡£åˆ—è¡¨ç»„ä»¶
- **MarkdownCard**: æ–‡æ¡£å¡ç‰‡ç»„ä»¶ï¼Œç”¨äºå±•ç¤ºæ–‡æ¡£æ‘˜è¦

## ğŸš€ å¼€å‘æµç¨‹

### ç¯å¢ƒè¦æ±‚

- Node.js >= 16
- pnpm >= 7

### å¯åŠ¨å¼€å‘æœåŠ¡å™¨

```bash
# å®‰è£…ä¾èµ–
pnpm install

# å¯åŠ¨å¼€å‘æœåŠ¡å™¨
pnpm dev
```

### æ„å»ºç”Ÿäº§ç‰ˆæœ¬

```bash
# æ„å»ºé¡¹ç›®
pnpm build
```

## ğŸ“ ä½¿ç”¨æ–¹æ³•

### åˆ›å»ºæ–°æ–‡æ¡£

1. åœ¨ `packages/docs-site/docs/` ç›®å½•ä¸‹åˆ›å»º `.md` æ–‡ä»¶
2. æ·»åŠ  frontmatter å…ƒæ•°æ®ï¼ˆå¯é€‰ï¼‰:
   ```yaml
   ---
   title: æ–‡æ¡£æ ‡é¢˜
   date: "2025-01-01"
   author: "ä½œè€…å"
   tags: ["æ ‡ç­¾1", "æ ‡ç­¾2"]
   ---
   ```
3. ç¼–å†™ Markdown å†…å®¹
4. æ–‡ä»¶ä¿å­˜åè‡ªåŠ¨ç”Ÿæˆè·¯ç”±ï¼Œå¯é€šè¿‡å¯¼èˆªè®¿é—®

### æ–‡æ¡£ç»„ç»‡

- `docs/` - æ ¹æ–‡æ¡£ç›®å½•
- `docs/unit/` - å•å…ƒæ–‡æ¡£ï¼ˆç« èŠ‚ï¼‰
- æ”¯æŒä»»æ„åµŒå¥—ç›®å½•ç»“æ„

## ğŸ”Œ æ’ä»¶ç³»ç»Ÿ

### Markdown è½¬æ¢æ’ä»¶

**æ–‡ä»¶**: `packages/docs-site/plugins/markdown-transformer-plugin.js`

**åŠŸèƒ½**:

- è§£æ frontmatter å…ƒæ•°æ®
- ä½¿ç”¨ markdown-it æ¸²æŸ“ HTML
- ç”Ÿæˆ Vue SFC æ¨¡æ¿
- å®ç° HMR åŠŸèƒ½

**é…ç½®**:

```javascript
markdownTransformerPlugin({
  markdownItOptions: {
    html: true,
    linkify: true,
  },
  markdownItPlugins: [
    [markdownItAnchor, { permalink: true, permalinkSymbol: "#" }],
  ],
});
```

### è™šæ‹Ÿé¡µé¢æ’ä»¶

**æ–‡ä»¶**: `packages/docs-site/plugins/virtual-pages-plugin.js`

**åŠŸèƒ½**:

- æ‰«æ `docs/**/*.md` æ–‡ä»¶
- ç”Ÿæˆè™šæ‹Ÿæ¨¡å— `virtual:pages`
- è‡ªåŠ¨åˆ›å»ºè·¯ç”±é…ç½®

## ğŸ¨ æ ·å¼ç³»ç»Ÿ

- **å…¨å±€æ ·å¼**: `src/style.css`
- **ç»„ä»¶æ ·å¼**: ä½¿ç”¨ Scoped CSS
- **ä¸»é¢˜è‰²**: ç»¿è‰²ä¸»é¢˜ (#42b983)
- **å“åº”å¼è®¾è®¡**: æ”¯æŒç§»åŠ¨ç«¯é€‚é…

## ğŸ” è°ƒè¯•åŠŸèƒ½

- **Vite Inspector**: é›†æˆ `vite-plugin-inspect` ç”¨äºè°ƒè¯•
- **æ¨¡å—å›¾**: å¼€å‘æ—¶è¾“å‡ºæ¨¡å—ä¾èµ–å›¾
- **HMR æ—¥å¿—**: æ§åˆ¶å°æ˜¾ç¤ºçƒ­æ›´æ–°ä¿¡æ¯

## ğŸ“¦ æ„å»ºé…ç½®

**å¼€å‘æ¨¡å¼**:

- ä½¿ç”¨ Vite å¼€å‘æœåŠ¡å™¨
- æ”¯æŒ ES æ¨¡å—çƒ­æ›´æ–°
- ç«¯å£: 3000

**ç”Ÿäº§æ¨¡å¼**:

- ä½¿ç”¨ Rollup æ‰“åŒ…
- TypeScript ç±»å‹æ£€æŸ¥
- ç”Ÿæˆä¼˜åŒ–çš„é™æ€èµ„æº

## ğŸ”— å…³é”®ä¾èµ–

### è¿è¡Œæ—¶ä¾èµ–

- `vue`: Vue 3 æ¡†æ¶
- `vue-router`: è·¯ç”±ç®¡ç†
- `markdown-it`: Markdown è§£æå™¨
- `gray-matter`: frontmatter è§£æ
- `fast-glob`: æ–‡ä»¶æ‰«æ

### å¼€å‘ä¾èµ–

- `vite`: æ„å»ºå·¥å…·
- `@vitejs/plugin-vue`: Vue SFC æ”¯æŒ
- `typescript`: ç±»å‹ç³»ç»Ÿ
- `vite-plugin-inspect`: è°ƒè¯•å·¥å…·

## ğŸš€ æ‰©å±•æŒ‡å—

### æ·»åŠ æ–°çš„ Markdown æ’ä»¶

åœ¨ `vite.config.ts` ä¸­é…ç½®:

```javascript
markdownTransformerPlugin({
  markdownItPlugins: [[pluginName, pluginOptions]],
});
```

### è‡ªå®šä¹‰ä¸»é¢˜

ä¿®æ”¹ `src/style.css` å’Œç»„ä»¶çš„ scoped æ ·å¼

### æ·»åŠ æ–°é¡µé¢ç±»å‹

1. åœ¨ `src/pages/` æ·»åŠ æ–°çš„ Vue ç»„ä»¶
2. åœ¨ `src/router/index.ts` ä¸­æ·»åŠ é™æ€è·¯ç”±

## ğŸ“„ è®¸å¯è¯

MIT License

## ğŸ¤ è´¡çŒ®æŒ‡å—

1. Fork é¡¹ç›®
2. åˆ›å»ºåŠŸèƒ½åˆ†æ”¯
3. æäº¤æ›´æ”¹
4. æ¨é€åˆ°åˆ†æ”¯
5. åˆ›å»º Pull Request

---

**é¡¹ç›®ç‰¹ç‚¹**: è¿™æ˜¯ä¸€ä¸ªæ•™å­¦å’Œå®éªŒæ€§è´¨çš„æ–‡æ¡£ç”Ÿæˆå™¨ï¼Œå±•ç¤ºäº†å¦‚ä½•ä½¿ç”¨ Vite æ’ä»¶ç³»ç»Ÿæ„å»ºè‡ªå®šä¹‰çš„æ–‡æ¡£å·¥å…·ã€‚ä»£ç ç»“æ„æ¸…æ™°ï¼Œæ˜“äºç†è§£å’Œæ‰©å±•ï¼Œé€‚åˆå­¦ä¹ ç°ä»£å‰ç«¯å·¥å…·é“¾çš„å¼€å‘æ¨¡å¼ã€‚
